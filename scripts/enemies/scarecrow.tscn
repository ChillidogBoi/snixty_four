[gd_scene load_steps=14 format=3 uid="uid://28dlleu1uxuo"]

[ext_resource type="Script" uid="uid://dun8so2mihqwy" path="res://scripts/enemies/scarecrow.gd" id="1_peq8u"]
[ext_resource type="ArrayMesh" uid="uid://dstkq051qduk7" path="res://assets/enemies/scarecrows.obj" id="1_yqt8w"]
[ext_resource type="Texture2D" uid="uid://57uigenpuiib" path="res://assets/ui/prompt/shift.png" id="3_ij7fx"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ij7fx"]
radius = 0.355377
height = 2.73937

[sub_resource type="BoxShape3D" id="BoxShape3D_jbd3e"]
size = Vector3(0.728638, 0.51709, 0.404663)

[sub_resource type="BoxShape3D" id="BoxShape3D_t5qa3"]
size = Vector3(0.514099, 0.189087, 0.292908)

[sub_resource type="BoxShape3D" id="BoxShape3D_p0ual"]
size = Vector3(0.625885, 0.384521, 0.372528)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_oqrwc"]
radius = 0.246511
height = 0.657497

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_tfu66"]
radius = 0.13416
height = 0.987508

[sub_resource type="Animation" id="Animation_ij7fx"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_jbd3e"]
resource_name = "die"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(1.5708, 0, 0)]
}

[sub_resource type="Animation" id="Animation_peq8u"]
resource_name = "hit"
length = 0.25
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0666667, 0.166667, 0.233333),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0.436332, 0, 0), Vector3(-0.349066, 0, 0), Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jbd3e"]
_data = {
&"RESET": SubResource("Animation_ij7fx"),
&"die": SubResource("Animation_jbd3e"),
&"hit": SubResource("Animation_peq8u")
}

[node name="scarecrow" type="CharacterBody3D" node_paths=PackedStringArray("hurt_box", "anims", "prompt")]
script = ExtResource("1_peq8u")
hurt_box = NodePath("hurt_box")
anims = NodePath("AnimationPlayer")
prompt = NodePath("Sprite3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.35273, 0)
shape = SubResource("CapsuleShape3D_ij7fx")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = ExtResource("1_yqt8w")

[node name="hurt_box" type="Area3D" parent="."]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="hurt_box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0145264, 1.78721, -0.00323486)
shape = SubResource("BoxShape3D_jbd3e")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="hurt_box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00619507, 1.43906, -0.00149536)
shape = SubResource("BoxShape3D_t5qa3")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="hurt_box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0112915, 1.78721, -0.00323486)
shape = SubResource("BoxShape3D_jbd3e")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="hurt_box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0087738, 1.17724, 0.0189667)
shape = SubResource("BoxShape3D_p0ual")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="hurt_box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00607508, 2.34919, 0.0189667)
shape = SubResource("CapsuleShape3D_oqrwc")

[node name="CollisionShape3D6" type="CollisionShape3D" parent="hurt_box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00537866, 0.46764, 0.00653243)
shape = SubResource("CapsuleShape3D_tfu66")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_jbd3e")
}

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.9514, 0)
visible = false
pixel_size = 0.04
billboard = 2
texture_filter = 0
texture = ExtResource("3_ij7fx")
